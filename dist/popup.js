!function(t){var n={};function e(r){if(n[r])return n[r].exports;var c=n[r]={i:r,l:!1,exports:{}};return t[r].call(c.exports,c,c.exports,e),c.l=!0,c.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var c in t)e.d(r,c,function(n){return t[n]}.bind(null,c));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=3)}([function(t,n,e){"use strict";e.d(n,"e",(function(){return r})),e.d(n,"a",(function(){return c})),e.d(n,"d",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"b",(function(){return u})),e.d(n,"o",(function(){return d})),e.d(n,"n",(function(){return s})),e.d(n,"l",(function(){return l})),e.d(n,"m",(function(){return b})),e.d(n,"f",(function(){return O})),e.d(n,"r",(function(){return j})),e.d(n,"s",(function(){return y})),e.d(n,"u",(function(){return E})),e.d(n,"q",(function(){return m})),e.d(n,"i",(function(){return p})),e.d(n,"t",(function(){return g})),e.d(n,"k",(function(){return w})),e.d(n,"h",(function(){return _})),e.d(n,"j",(function(){return k})),e.d(n,"g",(function(){return v})),e.d(n,"p",(function(){return S}));const r="__VOCABIFY_WORD__",c="__VOCABIFY_DEFINITION__",o="__VOCABIFY_SAVED_ITEMS__",i="Choose a word",u="Find a definiton",a="SET_SELECTED_TEXT",f="GET_SELECTED_TEXT";function d(t){return t.length>=2}function s(t){return t.length<=400}function l(t){return 0===Object.keys(t).length}function b(t){return 0===t.length}function O(t,n){return n.concat(t)}async function j(t,n,e){return await e(t,n)}function y(t,n){t.textContent=n}function E(t){return"",""}async function m(t,n,e){await e(r,""),await e(c,""),y(t,i),y(n,u)}function p(){return new Promise((function(t){chrome.runtime.sendMessage({action:f},(function(n){t(n.data)}))}))}function g(t,n){return new Promise((function(e){let r={};r[t]=n,chrome.storage.sync.set(r,(function(){e(n)}))}))}function w(t){return new Promise((function(n){chrome.storage.sync.get([`${t}`],(function(t){n(t)}))}))}function _(){let t=window.getSelection().toString();return!(!s(t)||!d(t))&&{action:a,data:t}}function k({response:t,key:n,fallback:e}){return t=Object.keys(t).length&&""!==t[n]?t[n]:e}const v=function(){let t="";return{onNewSelectedText:n=>(n.action===a&&(t=n.data),t),onRequestForSelectedText:(n,e)=>(n.action===f&&""!==t&&(e({data:t}),t=""),t)}}(),S=function(){let t=!1;return{setEditState(n=!0){t=n},onFocus(){this.setEditState()},async onBlur(n,e,r,c,o){return!!t&&(this.setEditState(!1),!function(t){return t===i||t===u}(n)&&d(n)&&s(n)?await o(e,n):(r.textContent=c,await o(e,"")))}}}()},,,function(t,n,e){"use strict";e.r(n);var r=e(0);const c=document.getElementById("word"),o=document.getElementById("definition");let i,u;document.getElementById("getWord").addEventListener("click",(function(){Object(r.i)().then((async function(t){await Object(r.t)(r.e,t),Object(r.s)(c,t)}))})),document.getElementById("getDefinition").addEventListener("click",(function(){Object(r.i)().then((async function(t){await Object(r.t)(r.a,t),Object(r.s)(o,t)}))})),document.getElementById("vocabify").addEventListener("click",(function(){chrome.runtime.openOptionsPage()})),document.getElementById("save").addEventListener("click",(async function(){let t=await Object(r.k)(r.d);t=Object(r.j)({response:t,key:r.d,fallback:[]});let n=await Object(r.k)(r.e),e=await Object(r.k)(r.a);if(Object(r.l)(n)||Object(r.m)(n[r.e])||!Object(r.n)(n[r.e])||!Object(r.o)(n[r.e]))return;if(Object(r.l)(e)||Object(r.m)(e[r.a])||!Object(r.n)(e[r.a])||!Object(r.o)(e[r.a]))return;let a={word:n[r.e],definition:e[r.a]};t=Object(r.f)(a,t),await Object(r.r)(r.d,t,r.t),i=Object(r.u)(i),u=Object(r.u)(u),await Object(r.q)(c,o,r.t)})),c.addEventListener("input",r.p.setEditState),o.addEventListener("input",r.p.setEditState),c.addEventListener("blur",(async function(){await r.p.onBlur(c.textContent,r.e,c,r.c,r.t)})),o.addEventListener("blur",(async function(){await r.p.onBlur(o.textContent,r.a,o,r.b,r.t)})),async function(){i=await Object(r.k)(r.e),u=await Object(r.k)(r.a),i=Object(r.j)({response:i,key:r.e,fallback:r.c}),u=Object(r.j)({response:u,key:r.a,fallback:r.b}),Object(r.s)(c,i),Object(r.s)(o,u)}()}]);
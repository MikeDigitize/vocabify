!function(_){var e={};function n(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return _[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=_,n.c=e,n.d=function(_,e,t){n.o(_,e)||Object.defineProperty(_,e,{enumerable:!0,get:t})},n.r=function(_){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},n.t=function(_,e){if(1&e&&(_=n(_)),8&e)return _;if(4&e&&"object"==typeof _&&_&&_.__esModule)return _;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:_}),2&e&&"string"!=typeof _)for(var r in _)n.d(t,r,function(e){return _[e]}.bind(null,r));return t},n.n=function(_){var e=_&&_.__esModule?function(){return _.default}:function(){return _};return n.d(e,"a",e),e},n.o=function(_,e){return Object.prototype.hasOwnProperty.call(_,e)},n.p="",n(n.s="./src/popup.js")}({"./src/popup.js":
/*!**********************!*\
  !*** ./src/popup.js ***!
  \**********************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_general_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/general-utils */ "./src/utils/general-utils.js");\n/* harmony import */ var _utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/popup-utils */ "./src/utils/popup-utils.js");\n/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/constants */ "./src/utils/constants.js");\n\n\n\nconst word = document.getElementById(\'word\');\nconst definition = document.getElementById(\'definition\');\nconst wordMessage = document.getElementById(\'wordMessage\');\nconst definitionMessage = document.getElementById(\'definitionMessage\');\n\nasync function popupInitialise() {\n  let savedWord = await Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["getVocabifyData"])(_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"]);\n  let savedDefinition = await Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["getVocabifyData"])(_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"]);\n  let currentWord = Object(_utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["setValueFromStoreResponse"])({\n    response: savedWord,\n    key: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"],\n    fallback: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_NO_WORD_SELECTED__"]\n  });\n  let currentDefinition = Object(_utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["setValueFromStoreResponse"])({\n    response: savedDefinition,\n    key: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"],\n    fallback: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_NO_DEFINITION_SELECTED__"]\n  });\n  Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(word, currentWord);\n  Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(definition, currentDefinition);\n}\n\ndocument.getElementById(\'getWord\').addEventListener(\'click\', function () {\n  Object(_utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["getSelectedTextFromBackground"])().then(async function (data) {\n    await Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setVocabifyData"])(_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"], data);\n    Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(word, data);\n  });\n});\ndocument.getElementById(\'getDefinition\').addEventListener(\'click\', function () {\n  Object(_utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["getSelectedTextFromBackground"])().then(async function (data) {\n    await Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setVocabifyData"])(_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"], data);\n    Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(definition, data);\n  });\n});\ndocument.getElementById(\'vocabify\').addEventListener(\'click\', function () {\n  chrome.runtime.openOptionsPage();\n});\ndocument.getElementById(\'save\').addEventListener(\'click\', async function () {\n  let currentWord = await Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["getVocabifyData"])(_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"]);\n  let currentDefinition = await Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["getVocabifyData"])(_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"]);\n\n  if (Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["isEmptyObject"])(currentWord) || Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["isEmptyString"])(currentWord[_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"]]) || !Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["isFourHundredCharactersOrLess"])(currentWord[_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"]]) || !Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["isTwoCharactersOrMore"])(currentWord[_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"]])) {\n    if (!definitionMessage.classList.contains(\'animated\')) {\n      Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(wordMessage, \'Be sure to choose a word first before saving\');\n      wordMessage.classList.add(\'animated\', \'pulse\');\n      setTimeout(function () {\n        Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(wordMessage, _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_NO_WORD_SELECTED__"]);\n        wordMessage.classList.remove(\'animated\', \'pulse\');\n      }, 2500);\n    }\n\n    return;\n  }\n\n  if (Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["isEmptyObject"])(currentDefinition) || Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["isEmptyString"])(currentDefinition[_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"]]) || !Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["isFourHundredCharactersOrLess"])(currentDefinition[_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"]]) || !Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["isTwoCharactersOrMore"])(currentDefinition[_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"]])) {\n    if (!definitionMessage.classList.contains(\'animated\')) {\n      Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(definitionMessage, \'Be sure to choose a definition first before saving\');\n      definitionMessage.classList.add(\'animated\', \'pulse\');\n      setTimeout(function () {\n        Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(definitionMessage, _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_NO_DEFINITION_SELECTED__"]);\n        definitionMessage.classList.remove(\'animated\', \'pulse\');\n      }, 2500);\n    }\n\n    return;\n  }\n\n  let savedItems = await Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["getVocabifyData"])(_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_SAVED_ITEMS__"]);\n  let items = Object(_utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["setValueFromStoreResponse"])({\n    response: savedItems,\n    key: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_SAVED_ITEMS__"],\n    fallback: []\n  });\n  let updatedItems = Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["addToItems"])({\n    word: currentWord[_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"]],\n    definition: currentDefinition[_utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"]],\n    items\n  });\n  await Object(_utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["saveItem"])({\n    key: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_SAVED_ITEMS__"],\n    items: updatedItems,\n    callback: _utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setVocabifyData"]\n  });\n  await Object(_utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["resetPopupAfterSave"])({\n    word,\n    definition,\n    callback: _utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setVocabifyData"]\n  });\n});\nword.addEventListener(\'input\', _utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["manualEditHandler"].setEditState);\ndefinition.addEventListener(\'input\', _utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["manualEditHandler"].setEditState);\nword.addEventListener(\'blur\', async function () {\n  await _utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["manualEditHandler"].onBlur({\n    text: word.textContent,\n    key: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_WORD__"],\n    element: word,\n    fallback: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_NO_WORD_SELECTED__"],\n    callback: _utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setVocabifyData"]\n  });\n});\ndefinition.addEventListener(\'blur\', async function () {\n  await _utils_popup_utils__WEBPACK_IMPORTED_MODULE_1__["manualEditHandler"].onBlur({\n    text: definition.textContent,\n    key: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_DEFINITION__"],\n    element: definition,\n    fallback: _utils_constants__WEBPACK_IMPORTED_MODULE_2__["__VOCABIFY_NO_DEFINITION_SELECTED__"],\n    callback: _utils_general_utils__WEBPACK_IMPORTED_MODULE_0__["setVocabifyData"]\n  });\n});\npopupInitialise();\n\n//# sourceURL=webpack:///./src/popup.js?')},"./src/utils/constants.js":
/*!********************************!*\
  !*** ./src/utils/constants.js ***!
  \********************************/
/*! exports provided: __VOCABIFY_WORD__, __VOCABIFY_DEFINITION__, __VOCABIFY_SAVED_ITEMS__, __VOCABIFY_NO_WORD_SELECTED__, __VOCABIFY_NO_DEFINITION_SELECTED__, __VOCABIFY_NO_SAVED_ITEMS__, __VOCABIFY_SET_SELECTED_TEXT__, __VOCABIFY_GET_SELECTED_TEXT__ */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__VOCABIFY_WORD__\", function() { return __VOCABIFY_WORD__; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__VOCABIFY_DEFINITION__\", function() { return __VOCABIFY_DEFINITION__; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__VOCABIFY_SAVED_ITEMS__\", function() { return __VOCABIFY_SAVED_ITEMS__; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__VOCABIFY_NO_WORD_SELECTED__\", function() { return __VOCABIFY_NO_WORD_SELECTED__; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__VOCABIFY_NO_DEFINITION_SELECTED__\", function() { return __VOCABIFY_NO_DEFINITION_SELECTED__; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__VOCABIFY_NO_SAVED_ITEMS__\", function() { return __VOCABIFY_NO_SAVED_ITEMS__; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__VOCABIFY_SET_SELECTED_TEXT__\", function() { return __VOCABIFY_SET_SELECTED_TEXT__; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__VOCABIFY_GET_SELECTED_TEXT__\", function() { return __VOCABIFY_GET_SELECTED_TEXT__; });\nconst __VOCABIFY_WORD__ = '__VOCABIFY_WORD__';\nconst __VOCABIFY_DEFINITION__ = '__VOCABIFY_DEFINITION__';\nconst __VOCABIFY_SAVED_ITEMS__ = '__VOCABIFY_SAVED_ITEMS__';\nconst __VOCABIFY_NO_WORD_SELECTED__ = 'Choose a word';\nconst __VOCABIFY_NO_DEFINITION_SELECTED__ = 'Find a definiton';\nconst __VOCABIFY_NO_SAVED_ITEMS__ = 'Find a definiton';\nconst __VOCABIFY_SET_SELECTED_TEXT__ = 'SET_SELECTED_TEXT';\nconst __VOCABIFY_GET_SELECTED_TEXT__ = 'GET_SELECTED_TEXT';\n\n//# sourceURL=webpack:///./src/utils/constants.js?")},"./src/utils/general-utils.js":
/*!************************************!*\
  !*** ./src/utils/general-utils.js ***!
  \************************************/
/*! exports provided: setVocabifyData, getVocabifyData, isDefaultText, isTwoCharactersOrMore, isFourHundredCharactersOrLess, isEmptyObject, isEmptyString, addToItems, saveItem, setPlaceholderText, toEmptyString */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setVocabifyData", function() { return setVocabifyData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getVocabifyData", function() { return getVocabifyData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDefaultText", function() { return isDefaultText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTwoCharactersOrMore", function() { return isTwoCharactersOrMore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFourHundredCharactersOrLess", function() { return isFourHundredCharactersOrLess; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEmptyObject", function() { return isEmptyObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEmptyString", function() { return isEmptyString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addToItems", function() { return addToItems; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveItem", function() { return saveItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPlaceholderText", function() { return setPlaceholderText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toEmptyString", function() { return toEmptyString; });\n/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/constants */ "./src/utils/constants.js");\n\nfunction setVocabifyData(key, value) {\n  return new Promise(function (resolve) {\n    let store = {};\n    store[key] = value;\n    chrome.storage.sync.set(store, function () {\n      resolve(value);\n    });\n  });\n}\nfunction getVocabifyData(key) {\n  return new Promise(function (resolve) {\n    chrome.storage.sync.get([`${key}`], function (response) {\n      resolve(response);\n    });\n  });\n}\nfunction isDefaultText(text) {\n  return text === _utils_constants__WEBPACK_IMPORTED_MODULE_0__["__VOCABIFY_NO_WORD_SELECTED__"] || text === _utils_constants__WEBPACK_IMPORTED_MODULE_0__["__VOCABIFY_NO_DEFINITION_SELECTED__"];\n}\nfunction isTwoCharactersOrMore(text) {\n  return text.length >= 2;\n}\nfunction isFourHundredCharactersOrLess(text) {\n  return text.length <= 400;\n}\nfunction isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\nfunction isEmptyString(str) {\n  return str.length === 0;\n}\nfunction addToItems({\n  word,\n  definition,\n  items\n}) {\n  let item = {\n    word,\n    definition\n  };\n  return items.concat(item);\n}\nasync function saveItem({\n  key,\n  items,\n  callback\n}) {\n  return await callback(key, items);\n}\nfunction setPlaceholderText(placeholder, text) {\n  placeholder.textContent = text;\n}\nfunction toEmptyString(str) {\n  str = \'\';\n  return str;\n}\n\n//# sourceURL=webpack:///./src/utils/general-utils.js?')},"./src/utils/popup-utils.js":
/*!**********************************!*\
  !*** ./src/utils/popup-utils.js ***!
  \**********************************/
/*! exports provided: getSelectedTextFromBackground, setValueFromStoreResponse, resetPopupAfterSave, manualEditHandler */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSelectedTextFromBackground", function() { return getSelectedTextFromBackground; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setValueFromStoreResponse", function() { return setValueFromStoreResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetPopupAfterSave", function() { return resetPopupAfterSave; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "manualEditHandler", function() { return manualEditHandler; });\n/* harmony import */ var _general_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./general-utils */ "./src/utils/general-utils.js");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./src/utils/constants.js");\n\n\nfunction getSelectedTextFromBackground() {\n  return new Promise(function (resolve) {\n    chrome.runtime.sendMessage({\n      action: _constants__WEBPACK_IMPORTED_MODULE_1__["__VOCABIFY_GET_SELECTED_TEXT__"]\n    }, function (response) {\n      resolve(response.data);\n    });\n  });\n}\nfunction setValueFromStoreResponse({\n  response,\n  key,\n  fallback\n}) {\n  if (Object(_general_utils__WEBPACK_IMPORTED_MODULE_0__["isEmptyObject"])(response) || Object(_general_utils__WEBPACK_IMPORTED_MODULE_0__["isEmptyString"])(response[key])) {\n    response = fallback;\n  } else {\n    response = response[key];\n  }\n\n  return response;\n}\nasync function resetPopupAfterSave({\n  word,\n  definition,\n  callback\n}) {\n  await callback(_constants__WEBPACK_IMPORTED_MODULE_1__["__VOCABIFY_WORD__"], \'\');\n  await callback(_constants__WEBPACK_IMPORTED_MODULE_1__["__VOCABIFY_DEFINITION__"], \'\');\n  Object(_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(word, _constants__WEBPACK_IMPORTED_MODULE_1__["__VOCABIFY_NO_WORD_SELECTED__"]);\n  Object(_general_utils__WEBPACK_IMPORTED_MODULE_0__["setPlaceholderText"])(definition, _constants__WEBPACK_IMPORTED_MODULE_1__["__VOCABIFY_NO_DEFINITION_SELECTED__"]);\n}\nconst manualEditHandler = function () {\n  let isEditing = false;\n  return {\n    setEditState(state = true) {\n      isEditing = state;\n    },\n\n    onFocus() {\n      this.setEditState();\n    },\n\n    async onBlur({\n      text,\n      key,\n      element,\n      fallback,\n      callback\n    }) {\n      if (isEditing) {\n        this.setEditState(false);\n\n        if (!Object(_general_utils__WEBPACK_IMPORTED_MODULE_0__["isDefaultText"])(text) && Object(_general_utils__WEBPACK_IMPORTED_MODULE_0__["isTwoCharactersOrMore"])(text) && Object(_general_utils__WEBPACK_IMPORTED_MODULE_0__["isFourHundredCharactersOrLess"])(text)) {\n          return await callback(key, text);\n        } else {\n          element.textContent = fallback;\n          return await callback(key, \'\');\n        }\n      }\n\n      return false;\n    }\n\n  };\n}();\n\n//# sourceURL=webpack:///./src/utils/popup-utils.js?')}});
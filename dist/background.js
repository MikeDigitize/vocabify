!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){"use strict";e.d(n,"e",(function(){return r})),e.d(n,"a",(function(){return o})),e.d(n,"d",(function(){return u})),e.d(n,"c",(function(){return i})),e.d(n,"b",(function(){return c})),e.d(n,"i",(function(){return l})),e.d(n,"l",(function(){return _})),e.d(n,"j",(function(){return S})),e.d(n,"g",(function(){return g})),e.d(n,"h",(function(){return m})),e.d(n,"f",(function(){return y})),e.d(n,"k",(function(){return b}));const r="__VOCABIFY_WORD__",o="__VOCABIFY_DEFINITION__",u="__VOCABIFY_SAVED_ITEMS__",i="Choose a word",c="Find a definiton",f="SET_SELECTED_TEXT",a="GET_SELECTED_TEXT";function d(t){return t.length>=2}function s(t){return t.length<=400}function l(){return new Promise((function(t){chrome.runtime.sendMessage({action:a},(function(n){t(n.data)}))}))}function _(t,n){return new Promise((function(e){let r={};r[t]=n,chrome.storage.sync.set(r,(function(){e(n)}))}))}function S(t){return new Promise((function(n){chrome.storage.sync.get([`${t}`],(function(t){n(t)}))}))}function g(){let t=window.getSelection().toString();return!(!s(t)||!d(t))&&{action:f,data:t}}function m({result:t,key:n,fallback:e}){return t=Object.keys(t).length&&""!==t[n]?t[n]:e}const y=function(){let t="";return{onNewSelectedText:n=>(n.action===f&&(t=n.data),t),onRequestForSelectedText:(n,e)=>(n.action===a&&""!==t&&(e({data:t}),t=""),t)}}(),b=function(){let t=!1;return{setEditState(n=!0){t=n},onFocus(){this.setEditState()},async onBlur(n,e,r,o,u){return!!t&&(this.setEditState(!1),!function(t){return t===i||t===c}(n)&&d(n)&&s(n)?await u(e,n):(r.textContent=o,await u(e,"")))}}}()},function(t,n,e){"use strict";e.r(n);var r=e(0);chrome.runtime.onConnect.addListener((function(t){t.onMessage.addListener(r.f.onNewSelectedText)})),chrome.runtime.onMessage.addListener((function(t,n,e){r.f.onRequestForSelectedText(t,e)}))}]);